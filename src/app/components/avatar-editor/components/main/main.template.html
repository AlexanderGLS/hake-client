<div *ngIf="visible" [bringToTop] [draggable] dragHandle=".card-header" class="card nitro-avatar-editor-component">
    <div class="card-header">
        {{ ('avatareditor.title') | translate }}
        <button type="button" class="close" (click)="hide()"><i class="fas fa-times"></i></button>
    </div>
    <div class="d-flex card-body">
        <div class="d-flex flex-grow-1 flex-column">
            <div class="btn-group">
                <button type="button" *ngFor="let category of categories.getValues()" class="btn btn-primary" [ngClass]="{ 'active': (activeCategory === category) }" (click)="selectCategory(category.name)">{{ ('avatareditor.category.' + category.name) | translate }}</button>
            </div>
            <div *ngIf="activeCategory" class="d-flex flex-column" nitro-avatar-model-viewer-component [model]="activeCategory" [gender]="gender"></div>
        </div>
        <div *ngIf="figureData" class="col-4 d-flex flex-column">
            <div class="d-flex position-relative flex-grow-1 justify-content-center">
                <div class="avatar-spotlight position-absolute"></div>
                <div class="avatar-shadow position-absolute"></div>
                <div class="d-flex justify-content-center position-absolute w-100 h-100 avatar-container" nitro-avatar-image [figure]="figureData.view.figureString" [direction]="figureData.direction" [scale]="2"></div>
                <div class="arrow-container">
                    <i class="icon arrow-left-icon" (click)="rotateAvatar(figureData.direction + 1)"></i>
                    <i class="icon arrow-right-icon" (click)="rotateAvatar(figureData.direction - 1)"></i>
                </div>
            </div>
            <button type="button" class="btn btn-success" (click)="saveFigure()">{{ ('avatareditor.save') | translate }}</button>
        </div>
    </div>
</div>